<div class="flex flex-col items-center justify-center min-h-screen py-8 bg-gray-100">
    <h2 class="mb-6 text-2xl font-semibold text-gray-800">UTA SERVICES</h2>
    <section class="w-full max-w-md bg-white rounded-lg shadow-md">
      <form class="p-6" [formGroup]="delegationsForm">
        <div class="flex flex-col space-y-4">
  
          <div>
            <label for="consumerId" class="text-gray-700">Cliente</label>
            <input id="consumerId" type="text" [formControl]="searchInputForConsumer"
              [matAutocomplete]="autoConsumer" 
              class="block w-full px-4 py-2 mt-1 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-400 focus:ring focus:ring-blue-300 focus:ring-opacity-40">
            <mat-autocomplete #autoConsumer="matAutocomplete" [displayWith]="displayFnForConsumer"
              (optionSelected)="onClientSelected($event)">
              <mat-option *ngFor="let client of filteredOptionsForCustomer | async" [value]="client">
                {{ client.dni }} - {{ client.firstName }} {{ client.lastName }}
              </mat-option>
              <mat-option *ngIf="(filteredOptionsForCustomer | async)?.length === 0 && searchInputForConsumer.value" disabled>
                No se encontraron resultados
              </mat-option>
            </mat-autocomplete>
            <div *ngIf="delegationsForm.get('consumerId')?.invalid && (delegationsForm.get('consumerId')?.dirty || delegationsForm.get('consumerId')?.touched)"
              class="text-sm text-red-600">
              <span *ngIf="delegationsForm.get('consumerId')?.errors?.['required']">La identificaci√≥n es requerida</span>
            </div>
          </div>
  
          <div>
            <label for="employeeId" class="text-gray-700">Empleado</label>
            <input id="employeeId" type="text" [formControl]="searchInputForEmployee"
              [matAutocomplete]="autoEmployee"
              class="block w-full px-4 py-2 mt-1 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-400 focus:ring focus:ring-blue-300 focus:ring-opacity-40">
            <mat-autocomplete #autoEmployee="matAutocomplete" [displayWith]="displayFnForEmployee"
              (optionSelected)="onUserSelected($event)">
              <mat-option *ngFor="let user of filteredOptionsForEmployee | async" [value]="user">
                {{ user.dni }} - {{ user.firstName }} {{ user.lastName }}
              </mat-option>
              <mat-option *ngIf="(filteredOptionsForEmployee | async)?.length === 0 && searchInputForEmployee.value" disabled>
                No se encontraron resultados
              </mat-option>
            </mat-autocomplete>
            <div *ngIf="delegationsForm.get('employeeId')?.invalid && (delegationsForm.get('employeeId')?.dirty || delegationsForm.get('employeeId')?.touched)"
              class="text-sm text-red-600">
              <span *ngIf="delegationsForm.get('employeeId')?.errors?.['required']">El nombre es requerido</span>
            </div>
          </div>
  
          <div>
            <button *ngIf="isEditMode"
              class="bg-teal-600 hover:bg-teal-700 focus:bg-teal-800 py-2 px-5 text-white font-semibold rounded-md shadow-md transition duration-300 ease-in-out"
              (click)="onUpdate()">
              Actualizar
            </button>
            <button *ngIf="!isEditMode"
              class="bg-teal-600 hover:bg-teal-700 focus:bg-teal-800 py-2 px-5 text-white font-semibold rounded-md shadow-md transition duration-300 ease-in-out"
              (click)="onCreate()">
              Crear
            </button>
          </div>
  
        </div>
      </form>
    </section>
  </div>
  